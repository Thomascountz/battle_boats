#!/usr/bin/env ruby

require 'battle_boats/engine'
require 'battle_boats/board'
require 'battle_boats/fleet'
require 'battle_boats/coordinate'

board = BattleBoats::Board.new

BattleBoats::FLEET.each do |ship|
  coin_toss = [1, 2].sample
  random_coordinate = BattleBoats::Coordinate.new(row: rand(0..9), column: rand(0..9))
  if coin_toss == 1
    until board.place_ship_horizontally(coordinate: random_coordinate, ship: ship)
      random_coordinate = BattleBoats::Coordinate.new(row: rand(0..9), column: rand(0..9))
    end
  else
    until board.place_ship_vertically(coordinate: random_coordinate, ship: ship)
      random_coordinate = BattleBoats::Coordinate.new(row: rand(0..9), column: rand(0..9))
    end
  end
end


engine = BattleBoats::Engine.new(board: board)
engine.start

